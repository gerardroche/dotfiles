#!/usr/bin/env bash

set -e

unset CDPATH
unset IFS

while test "$#" != 0; do
    case "$1" in
        -a)     tail -f /var/log/apache2/{access,error,other_vhosts_access}.log ;;
        -d)     tail -f {data,storage}/logs/*.log ;;
        -m)     tail -f /var/log/mysql/{error,mysql}.log ;;
        -am)    tail -f /var/log/{apache2,mysql}/{,*}{access,error,other_vhosts_access,mysql}.log ;;
        --all)  tail -f /var/log/{apache2,mysql}/{,*}{access,error,other_vhosts_access,mysql}.log {data,storage}/logs/*.log ;;
        --) shift; break ;; # standard end of options list
        -*) echo >&2 "$(basename "$0"): unknown option '$1'" && exit 1 ;;
        *)  echo >&2 "$(basename "$0"): unknown argument '$1'" && exit 1 ;;
    esac
    shift
done
